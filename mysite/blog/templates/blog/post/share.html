{% extends "blog/base.html" %}

{% block content %}
    {% if sent %}
        <h1>Email successfully sent</h1>
        <p>
            "{{ post.title }}" was successfully sent to {{ form.cleaned_data.to }}.
        </p>
    {% else %}
        <h1>Share "{{ post.title }}" by email</h1>
        <!-- it has to be submitted by the POST method -->
        <form method="post">
            <!-- render form as <p> tag using as_p method -->
            {{ form.as_p }}
            <!-- template tag introduces a hidden field with an autogenerated token to avoid cross-site request forgery attacks -->
            {% csrf_token %}
            <input type="submit" value="Send email">
        </form>
    {% endif %}
{% endblock %}